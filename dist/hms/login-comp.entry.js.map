{"file":"login-comp.entry.esm.js","mappings":"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","names":[],"sources":["src/components/login/login-comp.css?tag=login-comp&encapsulation=shadow","src/components/login/login-comp.tsx"],"sourcesContent":["body {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 0;\r\n    justify-content: space-between;\r\n    min-height: 100vh;\r\n  }\r\n  \r\n  .login-register {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 20px;\r\n    background-color: #f0f0f0;\r\n    border-radius: 10px;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\r\n    width: 300px;\r\n    /* margin: 0 auto; */\r\n    margin: 125px auto;\r\n    text-align: center; \r\n    flex-grow: 1;\r\n  }\r\n  \r\n  .form-actions {\r\n    display: flex;\r\n    flex-direction: column; \r\n    align-items: center; \r\n    margin-top: 10px;\r\n  }\r\n  \r\n  .switch-button {\r\n    margin-top: 10px;\r\n  }\r\n  \r\n  h2 {\r\n    font-size: 24px;\r\n    color: #333;\r\n    margin-bottom: 20px;\r\n    text-transform: uppercase;\r\n  }\r\n  \r\n  .form-group {\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  label {\r\n    display: block;\r\n    font-size: 14px;\r\n    color: #333;\r\n    margin-bottom: 5px;\r\n  }\r\n  \r\n  input[type=\"text\"],\r\n  input[type=\"password\"],\r\n  input[type=\"email\"],\r\ninput[type=\"tel\"] {\r\n    width: 100%;\r\n    padding: 10px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n    font-size: 16px;\r\n  }\r\n  \r\n  button {\r\n    background-color: #007bff;\r\n    color: #fff;\r\n    font-size: 16px;\r\n    padding: 10px 20px;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s ease;\r\n  }\r\n  \r\n  button:hover {\r\n    background-color: #0056b3;\r\n  }\r\n  \r\n  .switch-button:hover {\r\n    background-color: #999;\r\n  }\r\n  \r\n  /* Add animation */\r\n  @keyframes fadeIn {\r\n    from {\r\n      opacity: 0;\r\n      transform: translateY(-10px);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n  \r\n  .page-content {\r\n    flex-grow: 1;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }","import { Component, h, State } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'login-comp',\r\n  styleUrl: 'login-comp.css',\r\n  shadow: true,\r\n})\r\nexport class LoginRegister {\r\n  @State() isRegistering = false;\r\n  @State() username = '';\r\n  @State() password = '';\r\n  @State() email = '';\r\n  @State() phoneNumber = '';\r\n\r\n  toggleForm() {\r\n    this.isRegistering = !this.isRegistering;\r\n  }\r\n\r\n  handleUsernameChange(event: Event) {\r\n    this.username = (event.target as HTMLInputElement).value;\r\n  }\r\n\r\n  handlePasswordChange(event: Event) {\r\n    this.password = (event.target as HTMLInputElement).value;\r\n  }\r\n\r\n  handleEmailChange(event: Event) {\r\n    this.email = (event.target as HTMLInputElement).value;\r\n  }\r\n\r\n  handlePhoneNumberChange(event: Event) {\r\n    this.phoneNumber = (event.target as HTMLInputElement).value;\r\n  }\r\n\r\n  async handleLogin(event: Event) {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const response = await fetch('https://localhost:7183/api/UserDetailsOfHMS');\r\n      if (response.ok) {\r\n        const userData = await response.json();\r\n        const user = userData.find(user => user.name === this.username && user.password === this.password);\r\n\r\n        if (user) {\r\n          if (user.role === 'User') {\r\n            window.location.href = 'http://localhost:3333/home';\r\n          } else if (user.role === 'Admin') {\r\n            window.location.href = 'http://localhost:3333/admin';\r\n          }\r\n        } else {\r\n          alert('Login failed. Invalid username or password.');\r\n        }\r\n      } else {\r\n        console.error('Failed to retrieve user details.');\r\n      }\r\n    } catch (error) {\r\n      console.error('An error occurred:', error);\r\n    }\r\n  }\r\n\r\n  async handleSubmit(event: Event) {\r\n    event.preventDefault();\r\n    const userData = {\r\n      name: this.username,\r\n      password: this.password,\r\n      email: this.email,\r\n      phoneNumber: this.phoneNumber,\r\n      role: 'User',\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('https://localhost:7183/api/UserDetailsOfHMS', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(userData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        this.username = '';\r\n        this.password = '';\r\n        this.email = '';\r\n        this.phoneNumber = '';\r\n        alert('Registration successful. You Can Login Now');\r\n      } else {\r\n        console.error('Registration failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('An error occurred:', error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"login-register\">\r\n        <h2>{this.isRegistering ? 'Register' : 'Login'}</h2>\r\n        <form onSubmit={e => (this.isRegistering ? this.handleSubmit(e) : this.handleLogin(e))}>\r\n          <div class=\"form-group\">\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input type=\"text\" id=\"username\" value={this.username} onInput={e => this.handleUsernameChange(e)} />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" id=\"password\" value={this.password} onInput={e => this.handlePasswordChange(e)} />\r\n          </div>\r\n          {this.isRegistering && (\r\n            <div>\r\n              <div class=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input type=\"email\" id=\"email\" value={this.email} onInput={e => this.handleEmailChange(e)} />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label htmlFor=\"phoneNumber\">Phone Number</label>\r\n                <input type=\"text\" id=\"phoneNumber\" value={this.phoneNumber} onInput={e => this.handlePhoneNumberChange(e)} />\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div class=\"form-actions\">\r\n            <button type=\"submit\">{this.isRegistering ? 'Register' : 'Login'}</button>\r\n            <button type=\"button\" class=\"switch-button\" onClick={() => this.toggleForm()}>\r\n              {this.isRegistering ? 'Switch to Login' : 'Switch to Register'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"version":3}