{"file":"admin-booking.entry.esm.js","mappings":"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","names":[],"sources":["src/components/Admin-Booking/admin-booking.css?tag=admin-booking&encapsulation=shadow","src/components/Admin-Booking/admin-booking.tsx"],"sourcesContent":["/* admin-booking.css */\r\n.booking-table {\r\n    margin: 20px;\r\n  }\r\n  \r\n  table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n    animation: fadeIn 0.5s ease;\r\n  }\r\n  \r\n  th, td {\r\n    padding: 10px;\r\n    text-align: left;\r\n    border-bottom: 1px solid #ccc;\r\n  }\r\n  \r\n  th {\r\n    background-color: #f2f2f2;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  tr:hover {\r\n    background-color: #f5f5f5;\r\n    transition: background-color 0.2s ease;\r\n  }\r\n  \r\n  select {\r\n    padding: 5px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n    outline: none;\r\n    transition: border-color 0.3s ease;\r\n  }\r\n  \r\n  select:hover {\r\n    border-color: #007bff;\r\n  }\r\n  \r\n  @keyframes fadeIn {\r\n    from {\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      opacity: 1;\r\n    }\r\n  }\r\n  ","import { Component, State, h } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'admin-booking',\r\n  styleUrl: 'admin-booking.css',\r\n  shadow: true,\r\n})\r\nexport class AdminBooking {\r\n  @State() bookings: Booking[] = [];\r\n\r\n  componentWillLoad() {\r\n    this.fetchBookings();\r\n  }\r\n\r\n  async fetchBookings() {\r\n    try {\r\n      const response = await fetch('https://localhost:7183/api/bookings');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        this.bookings = data;\r\n      } else {\r\n        console.error('Failed to fetch booking data:', response.status, response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error('An error occurred while fetching booking data:', error);\r\n    }\r\n  }\r\n\r\n  async updateStatus(booking: Booking, newStatus: string) {\r\n    try {\r\n      const updatedBooking = {\r\n        id: booking.id,\r\n        patientName: booking.patientName,\r\n        doctorName: booking.doctorName,\r\n        status: newStatus,\r\n      };\r\n\r\n      const response = await fetch(`https://localhost:7183/api/bookings/${booking.id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(updatedBooking),\r\n      });\r\n\r\n      if (response.ok) {\r\n        // Update the booking status in the local state\r\n        const updatedBookings = this.bookings.map(b => {\r\n          if (b.id === booking.id) {\r\n            b.status = newStatus;\r\n          }\r\n          return b;\r\n        });\r\n        this.bookings = updatedBookings;\r\n      } else {\r\n        console.error('Failed to update booking status:', response.status, response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error('An error occurred while updating booking status:', error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"booking-table\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Booking ID</th>\r\n              <th>Name</th>\r\n              <th>Assigned Doctor</th>\r\n              <th>Status</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.bookings.map(booking => (\r\n              <tr key={booking.id}>\r\n                <td>{booking.id}</td>\r\n                <td>{booking.patientName}</td>\r\n                <td>{booking.doctorName}</td>\r\n                <td>{booking.status}</td>\r\n                <td>\r\n                  <select onChange={e => this.updateStatus(booking, (e.target as HTMLSelectElement).value)}>\r\n                    <option value=\"Booked\" selected={booking.status === 'Booked'}>\r\n                      Booked\r\n                    </option>\r\n                    <option value=\"Assigned\" selected={booking.status === 'Assigned'}>\r\n                      Assigned\r\n                    </option>\r\n                    <option value=\"Consulted\" selected={booking.status === 'Consulted'}>\r\n                      Consulted\r\n                    </option>\r\n                    <option value=\"Done\" selected={booking.status === 'Done'}>\r\n                      Done\r\n                    </option>\r\n                  </select>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\ninterface Booking {\r\n  id: number;\r\n  patientName: string;\r\n  doctorName: string;\r\n  status: string;\r\n}\r\n"],"version":3}