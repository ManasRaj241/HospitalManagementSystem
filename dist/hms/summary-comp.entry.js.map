{"file":"summary-comp.entry.esm.js","mappings":"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","names":[],"sources":["src/components/Summery/summery-comp.css?tag=summary-comp&encapsulation=shadow","src/components/Summery/summery-comp.tsx"],"sourcesContent":[":host {\r\n    display: block;\r\n    font-family: Arial, sans-serif;\r\n  }\r\n  \r\n  .summary-container {\r\n    max-width: 800px;\r\n    margin: 100px auto;\r\n    padding: 100px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 8px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n    background-color: #ffffff;\r\n  }\r\n  \r\n  table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n  }\r\n  \r\n  th, td {\r\n    padding: 12px;\r\n    text-align: left;\r\n    border-bottom: 1px solid #ddd;\r\n  }\r\n  \r\n  th {\r\n    background-color: #f2f2f2;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  tr:hover {\r\n    background-color: #f5f5f5;\r\n    transition: background-color 0.3s;\r\n  }\r\n\r\n  .summary-container {\r\n    font-family: Arial, sans-serif;\r\n    padding: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center; \r\n    text-align: center; \r\n  }\r\n  \r\n  .search-form {\r\n    margin-bottom: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    max-width: 300px;\r\n  }\r\n  \r\n  label {\r\n    font-weight: bold;\r\n  }\r\n  \r\n  input[type=\"text\"] {\r\n    padding: 5px;\r\n    margin-bottom: 10px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n  }\r\n  \r\n  button[type=\"submit\"] {\r\n    background-color: #007BFF;\r\n    color: #fff;\r\n    border: none;\r\n    padding: 10px 20px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  button[type=\"submit\"]:hover {\r\n    background-color: #0056b3;\r\n  }\r\n  \r\n  .summary-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    max-width: 600px; /* Optionally, limit the maximum width of the table */\r\n  }\r\n  \r\n  .summary-table th,\r\n  .summary-table td {\r\n    border: 1px solid #ccc;\r\n    padding: 8px;\r\n    text-align: left;\r\n  }\r\n  \r\n  .summary-table th {\r\n    background-color: #f2f2f2;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  ","import { Component, h, State } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'summary-comp',\r\n  styleUrl: 'summery-comp.css',\r\n  shadow: true,\r\n})\r\nexport class SummaryComp {\r\n  @State() data: Array<{ patientName: string; doctorName: string; status: string }> = [];\r\n  @State() searchName: string = '';\r\n  @State() filteredData: Array<{ patientName: string; doctorName: string; status: string }> = [];\r\n  @State() doctorMap: Map<string, string> = new Map();\r\n  @State() doctorNamesSet: Set<string> = new Set();\r\n  serialNumber: number = 0; // Add a serial number variable\r\n\r\n  async fetchData() {\r\n    try {\r\n      const response = await fetch('https://localhost:7183/api/bookings');\r\n      if (response.ok) {\r\n        this.data = await response.json();\r\n        this.data.forEach(item => this.doctorNamesSet.add(item.doctorName));\r\n        this.fetchDoctorsData();\r\n      } else {\r\n        console.error('Failed to fetch data:', response.status, response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error('An error occurred while fetching data:', error);\r\n    }\r\n  }\r\n\r\n  async fetchDoctorsData() {\r\n    try {\r\n      const response = await fetch('https://localhost:7183/api/doctors');\r\n      if (response.ok) {\r\n        const doctorsData = await response.json();\r\n        doctorsData.forEach(doctor => {\r\n          if (this.doctorNamesSet.has(doctor.name)) {\r\n            this.doctorMap.set(doctor.name, doctor.hospitalName);\r\n          }\r\n        });\r\n      } else {\r\n        console.error('Failed to fetch doctors data:', response.status, response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error('An error occurred while fetching doctors data:', error);\r\n    }\r\n  }\r\n\r\n  handleSubmit(event: Event) {\r\n    event.preventDefault();\r\n    this.filteredData = this.data.filter(item => item.patientName.toLowerCase().includes(this.searchName.toLowerCase()));\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.fetchData();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"summary-container\">\r\n        <form class=\"search-form\" onSubmit={(e: Event) => this.handleSubmit(e)}>\r\n          <label htmlFor=\"searchName\">Search by Name</label>\r\n          <input type=\"text\" id=\"searchName\" value={this.searchName} onInput={(e: Event) => (this.searchName = (e.target as HTMLInputElement).value)} placeholder=\"Enter Name\" />\r\n          <button type=\"submit\">Submit</button>\r\n        </form>\r\n\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Sl No</th>\r\n              <th>Hospital Name</th>\r\n              <th>Assigned Doctor</th>\r\n              <th>Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.filteredData.map((item, index) => (\r\n              <tr key={item.doctorName}>\r\n                <td>{++this.serialNumber}</td> {/* Increment serial number manually */}\r\n                {this.doctorMap.has(item.doctorName) && (\r\n                  <tr>\r\n                    <td></td>\r\n                    <td>{this.doctorMap.get(item.doctorName)}</td>\r\n                    <td></td>\r\n                    <td></td>\r\n                  </tr>\r\n                )}\r\n                <td>{item.doctorName}</td>\r\n                <td>{item.status}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"version":3}